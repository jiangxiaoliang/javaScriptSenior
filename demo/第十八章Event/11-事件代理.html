<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
            h2, p {
                margin: 0;
            }
            .box {
                width: 300px;
                margin: 30px auto;
            }
            #user, #message {
                width: 300px;
                border: 1px solid #000;
                box-sizing: border-box;
                padding: 10px;
                height: 100px;
                resize: none;
                display: block;
            }
            #user {
                height: 30px;
                margin-bottom: 10px;
                padding: 0 10px;
            }
            #btn {
                display: block;
                width: 60%;
                height: 40px;
                margin: 10px auto;
            }
            #list {
                border-top: 1px solid #000000;
                padding: 10px 0 0;
                margin: 0;
                list-style: none;
            }
            #list li {
                position: relative;
                font: 14px/30px '宋体';
                border-bottom: 1px solid #000;
                padding: 0 15px;
                overflow: hidden;
            }
            .clos {
                position: absolute;
                right: 5px;
                top: 10px;
            }
    </style>
</head>
<body>
    <div class='box'>
        <input type='text' id='user' value='小明' />
        <textarea id='message'>我就是传说中的无敌小明</textarea>
        <button id='btn'>提交留言</button>
        <ul id='list'>
            <li style="height: auto;">
                <h2 class='user'>小王说:</h2>
                <p>呼叫无敌小明</p>
                <a href="javascript:;" class="clos">删除</span></a>
            </li>
            <li style="height: auto;">
                <h2 class='user'>老师说:</h2>
                <p>小明坐好</p>
                <a href="javascript:;" class="clos">删除</span></a>
            </li>
        </ul>
    </div>
    <script>
        {
            let listEl = document.querySelector('#list')
            let userEl = document.querySelector('#user')
            let messageEl = document.querySelector('#message')
            let btnEl = document.querySelector('#btn')

            // 添加元素
            btnEl.addEventListener('click', (e) => {
                let li = document.createElement('li')
                li.innerHTML = `<h2 class='user'>${userEl.value}说:</h2>
                <p>${messageEl.value}</p>
                <a href="javascript:;" class="clos">删除</span></a>`
                list.insertBefore(li, list.children[0])
            })

            // 删除元素
            // document.querySelectorAll('.clos').forEach((item, index) => {
            //     item.addEventListener('click', () => {
            //         console.log('a')
            //     })
            // })

            listEl.addEventListener('click', (e) => {
                // console.log(e)
                if(e.target.className = 'clos') {
                    var li = e.target.parentNode
                    listEl.removeChild(li)
                }
            })
        }
    </script>
</body>
</html>